<br />
<% @e_books.each_with_index do |e_book, index| %>
  <%= render :partial => 'single', :locals => {:e_book => e_book, :index=>index} %>
  
  <% if index == 2 %>
    <br />
  <% end %>

  <% if index == 5 %>
    <br />
  <% end %>

  <% if index == 8 %>
    <br />
  <% end %>
  
  <% if index < @e_books.size-1 && ![2,5,8].include?(index) then %>
    <br />
  <% end %>
<% end %>

<div class="pagination center"><ul></ul></div>


<% content_for :footer do %>
<script>
  var model = new PaginationModel({
    current_page_no: <%=@page_id%>,
    page_count: <%=@page_count%>
  });

  var pagination = new PaginationView({
    model: model,
    el: $(".pagination"),
    page_container: "ul",
    page_item_tmpl: "<li class='{{=selected}}'><a href='<%=url_for(:controller=>'category', :action=>'show')%>/page/{{=page_index}}?<%=request.env['QUERY_STRING'] %>'>{{=page_index}}</a></li>",
    page_item_placeholder_tmpl: "<li class='disabled'><a>...</a></li>",
    page_item_label_tmpl: "<li><a href='<%=url_for(:controller=>'category', :action=>'show')%>/page/{{=page_index}}'>{{=page_label}}</a></li>",
  });
</script>
<% end %>

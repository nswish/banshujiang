<script src="http://code.highcharts.com/highcharts.js"></script>
<script>
$(document).ready(function() {
  var category = <%=raw @daily_increment.keys %>;
  var data = <%=raw @daily_increment.values %>;

  var chart1 = new Highcharts.Chart({
    chart: {
			width: 440,
			height: 300,
			renderTo: 'container1',
			type: 'column',
			backgroundColor: '#FFFFFF',
			shadow: true
		},
		credits: {
			enabled: false
		},
		title: {
			text: '最近两周书籍增加统计(每日)'
		},
		xAxis: {
			categories: category,
			labels: {
				formatter: function(){
					return this.value.split('-')[1];
				}
			}
		},
		yAxis: {
			title: null 
		},
		plotOptions: {
			column: {
				dataLabels: {
					enabled: true,
					formatter: function(){
						return this.y+'本';
					}
				}
			}
		},
		series: [{
			name: '新增书籍',
			'data': data
  	}]
  });

  var category_2 = <%=raw @year_count.keys %>;
  var data_2 = <%=raw @year_count.values %>;

  var chart2 = new Highcharts.Chart({
    chart: {
			width: 440,
			height: 300,
			renderTo: 'container2',
			type: 'column',
			backgroundColor: '#FFFFFF',
			shadow: true
		},
		credits: {
			enabled: false
		},
		title: {
			text: '出版年份统计'
		},
		xAxis: {
			categories: category_2,
			labels: {
				formatter: function(){
					return this.value;
				}
			}
		},
		yAxis: {
			title: null 
		},
		plotOptions: {
			column: {
				dataLabels: {
					enabled: true,
					formatter: function(){
						return this.y+'本';
					}
				}
			}
		},
		series: [{
			name: '出版年份',
			'data': data_2
  	}]
  });

  var category_3 = <%=raw @programming_language_count.keys %>;
  var data_3 = <%=raw @programming_language_count.values %>;

  var chart2 = new Highcharts.Chart({
    chart: {
			width: 920,
			height: 300,
			renderTo: 'container3',
			type: 'column',
			backgroundColor: '#FFFFFF',
			shadow: true
		},
		credits: {
			enabled: false
		},
		title: {
			text: '编程语言统计'
		},
		xAxis: {
			categories: category_3,
			labels: {
				formatter: function(){
					return this.value;
				}
			}
		},
		yAxis: {
			title: null 
		},
		plotOptions: {
			column: {
				dataLabels: {
					enabled: true,
					formatter: function(){
						return this.y+'本';
					}
				}
			}
		},
		series: [{
			name: '编程语言',
			'data': data_3
  	}]
  });


}); 
</script>
<br />
<div class="row" style="margin-left:0px;">
  <div class="span6" id="container1">
  </div>
  <div class="span6" id="container2">
  </div>
</div>
<div class="row" style="margin-left:0px;margin-top:10px;margin-bottom:20px;">
  <div id="container3" class="span12">
  </div>
</div>
